"0","#I wanted to use functions from the course but when I looked up how to recategorise a categorical variable, all the answers were using functions we hadn't used. So, I asked chatgpt. First, it advised a statement for each NHS Board but I knew it could be done in groups and using | or %in% so I modified the prompt. "
"0","plot_data <- plot_data %>% "
"0","  mutate(Region = case_when("
"0","    NHS %in% c(""Ayrshire & Arran"" , ""Borders"" , ""Dumfries & Galloway"") ~ ""Borders"","
"0","    NHS %in% c(""Fife"" , ""Forth Valley"" , ""Greater Glasgow & Clyde"" , ""Lanarkshire"" , ""Lothian"") ~ ""Central Belt"","
"0","    NHS %in% c(""Grampian"" , ""Tayside"") ~ ""North East"","
"0","    NHS %in% c(""Highland"" , ""Western Isles"" , ""Orkney"" , ""Shetland"") ~ ""Highlands & Islands""))"
"0",""
"0","#Now to calculate the regional percentages"
"0","summed_data <- plot_data %>% "
"0","  group_by(Region, year) %>% "
"0","  summarise(total_number = sum(number))"
"2","`summarise()` has grouped output by 'Region'. You can override using the `.groups` argument."
